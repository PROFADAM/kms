name: kms-connector-test

services:
  kms-full-node:
    build:
      context: ../../../
      dockerfile: ./blockchain/contracts/asc/operations/docker/dev.dockerfile
    ports:
      - "36656:26656"
      - "36657:26657"
      - "1317:1317"
      - "9090:9090"
    volumes:
      - ../../scripts/bootstrap_asc.sh:/app/bootstrap.sh
    entrypoint: [ "/app/bootstrap.sh" ]
    healthcheck:
      test: "wget -Sq --spider http://localhost:26657/status"
      interval: 1s
      timeout: 1s
      retries: 5
      start_period: 10s
